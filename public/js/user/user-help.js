// Generated by CoffeeScript 1.9.1

/*
For: /user/help
 */

(function() {
  var dtSettings_hidden, dtSettings_requests;

  dtSettings_requests = {
    order: [[0, 'desc']],
    aLengthMenu: [[25, 50, 75, -1], [25, 50, 75, "All"]],
    iDisplayLength: 25,
    autoWidth: true
  };

  dtSettings_hidden = {
    order: [[0, 'desc']],
    aLengthMenu: [[25, 50, 75, -1], [25, 50, 75, "All"]],
    iDisplayLength: 25,
    autoWidth: true
  };

  $(document).ready(function() {
    var currTab, refreshTabs, tabHtml;
    currTab = [0, 0];
    tabHtml = {
      requests: $('#requests').wrap('<p/>').parent().html(),
      hidden: $('#hidden').wrap('<p/>').parent().html()
    };
    $('#tabContainer1').empty();
    $('#tabContainer0').empty();
    $('#tabContainer0').append(tabHtml.requests);
    $('#DT-requests').DataTable(dtSettings_requests);
    refreshTabs = function() {
      $('a[role="tab"]').click(function(e) {
        var href;
        e.preventDefault();
        href = $(this).attr('href');
        switch (href) {
          case '#requests':
            if (currTab[0] !== 0) {
              $('#tabContainer0').empty();
              $('#tabContainer0').append(tabHtml.requests);
              $('#DT-requests').DataTable(dtSettings_requests);
              return currTab[0] = 0;
            }
            break;
          case '#hidden':
            if (currTab[0] !== 1) {
              $('#tabContainer0').empty();
              $('#tabContainer0').append(tabHtml.hidden);
              $('button[name="accept"]').click(function() {
                accept($(this), $(this).attr('data-objectId'), $(this).attr('data-status'));
              });
              $('button[name="waitlist"]').click(function() {
                waitlist($(this), $(this).attr('data-objectId'), $(this).attr('data-status'));
              });
              $('#DT-hidden').DataTable(dtSettings_hidden);
              return currTab[0] = 1;
            }
            break;
          default:
            return console.log('Invalid tab id');
        }
      });
      return $(this).tab('show');
    };
    return refreshTabs();
  });

}).call(this);
